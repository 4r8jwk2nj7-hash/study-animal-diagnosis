<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> 50å•ã§åˆ†ã‹ã‚‹ï¼ã‚ãªãŸã®å‹‰å¼·ã‚¿ã‚¤ãƒ—å‹•ç‰©è¨ºæ–­ </title>
<style>
body {
  margin: 0;
  font-family: "Rounded Mplus 1c", system-ui, sans-serif;
  background: linear-gradient(135deg,#ff9a9e,#fad0c4);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

.app {
  width: 90%;
  max-width: 420px;
  background: white;
  border-radius: 20px;
  padding: 25px;
  box-shadow: 0 15px 30px rgba(0,0,0,.15);
}

.hidden { display: none; }

h1 { text-align:center; color:#ff6f91; }

button {
  width: 100%;
  padding: 14px;
  margin-top: 15px;
  border: none;
  border-radius: 14px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}

.start { background: linear-gradient(135deg,#feca57,#ff9f43); color:#fff; }
.yes { background: linear-gradient(135deg,#48dbfb,#1dd1a1); color:#fff; }
.no { background: linear-gradient(135deg,#ff6b6b,#ee5253); color:#fff; }
.retry { background: linear-gradient(135deg,#1dd1a1,#10ac84); color:#fff; }

.progress { margin-bottom:10px; text-align:center; color:#555; }
.bar { height:10px; background:#eee; border-radius:10px; overflow:hidden; margin-bottom:15px; }
.bar-inner { height:100%; width:0%; background:linear-gradient(90deg,#54a0ff,#5f27cd); }

.card { text-align:center; padding:20px; border-radius:18px; background:linear-gradient(135deg,#fbc531,#e84118); color:white; }
.animal { font-size:60px; margin-bottom:10px; }
</style>
</head>

<body>
<div class="app">

  <!-- ãƒ›ãƒ¼ãƒ  -->
  <div id="home">
    <h1>ğŸ§  å‹‰å¼·ã‚¿ã‚¤ãƒ—å‹•ç‰©è¨ºæ–­</h1>
    <p style="text-align:center;">50å•ã§ã‚ãªãŸã®å‹‰å¼·ã‚¿ã‚¤ãƒ—ã‚’è¨ºæ–­ï¼</p>
    <button class="start" onclick="startQuiz()">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
  </div>

  <!-- ã‚¯ã‚¤ã‚º -->
  <div id="quiz" class="hidden">
    <div class="progress" id="progressText"></div>
    <div class="bar"><div class="bar-inner" id="bar"></div></div>
    <h3 id="question"></h3>
    <button class="yes" onclick="answer(true)">ã¯ã„</button>
    <button class="no" onclick="answer(false)">ã„ã„ãˆ</button>
  </div>

  <!-- çµæœ -->
  <div id="result" class="hidden">
    <div class="card">
      <div class="animal" id="animalEmoji"></div>
      <h2 id="animalName"></h2>
      <p id="advice"></p>
      <p id="explanation" style="margin-top:10px;text-align:left;"></p>
    </div>
    <button class="retry" onclick="restartQuiz()">ã‚‚ã†ä¸€å›è¨ºæ–­ã™ã‚‹</button>
  </div>

</div>

<script>
// å‹•ç‰©ã‚¿ã‚¤ãƒ—ã¨åŸºæœ¬ã‚¢ãƒ‰ãƒã‚¤ã‚¹
const animals = {
  LION:{name:"ãƒ©ã‚¤ã‚ªãƒ³",emoji:"ğŸ¦",advice:"ç›®æ¨™ã‚’æ±ºã‚ã¦ä¸€æ°—ã«é€²ã‚ã‚‹ã¨æœ€å¼·", explanation:"ç›®æ¨™ãŒã‚ã‚‹ã¨ä¸€æ°—ã«é›†ä¸­åŠ›ãŒä¸ŠãŒã‚Šã¾ã™ã€‚å‹ã¡ç­‹ãŒè¦‹ãˆã‚‹ã¨å¼·ãã€æœ€åˆã«ã‚´ãƒ¼ãƒ«ã‚’æ±ºã‚ã‚‹ã“ã¨ã§åŠ¹ç‡ã‚ˆãé€²ã‚ã‚‰ã‚Œã¾ã™ã€‚æ¨¡è©¦ã‚„ãƒ†ã‚¹ãƒˆæ—¥ã‚’é€†ç®—ã—ã¦è¨ˆç”»ã‚’ç«‹ã¦ã‚‹ã¨å®ŸåŠ›ãŒä¼¸ã³ã‚„ã™ãã€è¨ˆç”»ã«æ²¿ã£ãŸå°ã•ãªé”æˆæ„Ÿã‚’ç©ã¿é‡ã­ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚"},
  WOLF:{name:"ã‚ªã‚ªã‚«ãƒŸ",emoji:"ğŸº",advice:"ä¸€äººé›†ä¸­å‹ã€‚é™ã‹ãªç’°å¢ƒãŒâ—", explanation:"ä¸€äººã§é»™ã€…ã¨ã‚„ã‚‹ã¨é›†ä¸­åŠ›ãŒé«˜ã¾ã‚Šã¾ã™ã€‚å‘¨ã‚Šã«å·¦å³ã•ã‚Œã«ããã€é™ã‹ãªç’°å¢ƒã‚’æœ€å„ªå…ˆã™ã‚‹ã¨åŠ¹æœçš„ã§ã™ã€‚è‡ªç¿’æ™‚é–“ã‚’ç¢ºä¿ã—ã€äººã¨æ¯”ã¹ã™ããªã„ã“ã¨ã§å®‰å®šã—ã¦å­¦ç¿’ã§ãã¾ã™ã€‚"},
  BEAR:{name:"ã‚¯ãƒ",emoji:"ğŸ»",advice:"å¾©ç¿’é‡è¦–ã§å®‰å®šæ„Ÿã‚¢ãƒƒãƒ—", explanation:"ã˜ã£ãã‚Šå‹ã§ã€ç¹°ã‚Šè¿”ã—ã«ã‚ˆã£ã¦çŸ¥è­˜ã‚’å®šç€ã•ã›ã¾ã™ã€‚ä¸€åº¦èº«ã«ã¤ãã¨å´©ã‚Œã«ããã€å¾©ç¿’ã‚’ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³åŒ–ã™ã‚‹ã¨åŠ¹æœçš„ã§ã™ã€‚åŒã˜å•é¡Œã‚’ä½•å‘¨ã‚‚è§£ãã“ã¨ã§å®‰å®šæ„Ÿã®ã‚ã‚‹å­¦ç¿’ãŒå¯èƒ½ã§ã™ã€‚"},
  DEER:{name:"ã‚·ã‚«",emoji:"ğŸ¦Œ",advice:"çŸ­æ™‚é–“Ã—å›æ•°ã§ä¼¸ã³ã‚‹", explanation:"èª¿å­ã®è‰¯ã„æ—¥ã¯çˆ†ç™ºçš„ã«ä¼¸ã³ã€ãƒãƒªã¨å‹¢ã„ãŒå¤§äº‹ã§ã™ã€‚çŸ­æ™‚é–“é›†ä¸­ã‚’ç¹°ã‚Šè¿”ã—ã€æ°—åˆ†è»¢æ›ã‚’å¤šã‚ã«å–ã‚Šå…¥ã‚Œã‚‹ã“ã¨ã§åŠ¹ç‡çš„ã«å­¦ç¿’ã§ãã¾ã™ã€‚ã†ã¾ãã„ã‹ãªã„æ—¥ã‚‚å‰²ã‚Šåˆ‡ã£ã¦è¨ˆç”»ã‚’èª¿æ•´ã™ã‚‹ã¨é•·æœŸçš„ã«æˆæœãŒå‡ºã¾ã™ã€‚"},
  CAT:{name:"ãƒã‚³",emoji:"ğŸ±",advice:"æ°—åˆ†è»¢æ›ã‚’ä¸Šæ‰‹ã«ä½¿ãŠã†", explanation:"è‡ªåˆ†ã®ãƒªã‚ºãƒ ã‚’æœ€å„ªå…ˆã«å­¦ç¿’ã™ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚æ°—åˆ†ãŒåˆã†ã¨é›†ä¸­åŠ›ãŒé«˜ã¾ã‚Šã€æ™‚é–“å¸¯ã‚„ç’°å¢ƒã‚’è‡ªç”±ã«é¸ã¶ã¨åŠ¹ç‡ãŒä¸ŠãŒã‚Šã¾ã™ã€‚ç„¡ç†ãªè¨ˆç”»ã¯ã›ãšã€å¥½ããªç’°å¢ƒã‚’ä½œã‚‹ã“ã¨ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚"},
  DOG:{name:"ã‚¤ãƒŒ",emoji:"ğŸ¶",advice:"èª°ã‹ã¨ä¸€ç·’ã«ã‚„ã‚‹ã¨ç¶šã", explanation:"ä»–äººã¨ä¸€ç·’ã«å­¦ç¿’ã™ã‚‹ã¨åŠ›ã‚’ç™ºæ®ã—ã‚„ã™ã„ã‚¿ã‚¤ãƒ—ã§ã™ã€‚å‹é”ã¨å•é¡Œã‚’å‡ºã—åˆã£ãŸã‚Šã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³è‡ªç¿’ã‚’æ´»ç”¨ã™ã‚‹ã¨ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãŒç¶­æŒã§ãã¾ã™ã€‚ç´„æŸã‚„å”åŠ›ã‚’ä½¿ã£ã¦å‹‰å¼·ç¿’æ…£ã‚’ä½œã‚‹ã¨åŠ¹æœçš„ã§ã™ã€‚"},
  FOX:{name:"ã‚­ãƒ„ãƒ",emoji:"ğŸ¦Š",advice:"å·¥å¤«ã¨åŠ¹ç‡ã‚’é‡è¦–ã—ã‚ˆã†", explanation:"å…¨ä½“ã‚’è¦‹ã¦å¿…è¦ãªéƒ¨åˆ†ã«é›†ä¸­ã™ã‚‹ã®ãŒå¾—æ„ã§ã™ã€‚ç„¡é§„ã‚’çœãã€åŠ¹ç‡çš„ãªå­¦ç¿’æ–¹æ³•ã‚’æ¢ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ã¨ã‚ãƒãƒ¼ãƒˆã‚’æ´»ç”¨ã—ãŸã‚Šã€å‡ºã‚„ã™ã„éƒ¨åˆ†ã«æ„è­˜ã‚’å‘ã‘ã‚‹ã¨ç†è§£ãŒæ·±ã¾ã‚Šã¾ã™ã€‚"},
  OWL:{name:"ãƒ•ã‚¯ãƒ­ã‚¦",emoji:"ğŸ¦‰",advice:"å¤œå‹ãªã‚‰æœã¯å¾©ç¿’ã ã‘", explanation:"é™ã‹ãªæ™‚é–“ã«é›†ä¸­åŠ›ãŒä¸ŠãŒã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚å¤œã¯ç†è§£ç³»ã®å­¦ç¿’ã€æ˜¼ã¯è»½ã‚ã«ã™ã‚‹ãªã©æ™‚é–“å¸¯ã‚’æ„è­˜ã™ã‚‹ã¨åŠ¹æœçš„ã§ã™ã€‚ç¡çœ ä¸è¶³ã«æ³¨æ„ã—ã€å¤œç”¨ã‚¿ã‚¹ã‚¯ã‚’æ±ºã‚ã¦å­¦ç¿’ã—ã¾ã—ã‚‡ã†ã€‚"},
  RABBIT:{name:"ã‚¦ã‚µã‚®",emoji:"ğŸ°",advice:"ãƒ†ãƒ³ãƒã‚ˆãå•é¡Œæ¼”ç¿’", explanation:"ãƒ†ãƒ³ãƒã‚ˆãé€²ã‚ã‚‹ã“ã¨ãŒå¾—æ„ã§ã€ãƒ€ãƒ©ãƒ€ãƒ©å­¦ç¿’ã¯è‹¦æ‰‹ã§ã™ã€‚ã‚¿ã‚¤ãƒãƒ¼ã‚’ä½¿ã£ãŸå‹‰å¼·ã‚„ã€é‡ã‚ˆã‚Šå›è»¢æ•°ã‚’æ„è­˜ã—ãŸå­¦ç¿’ãŒå‘ã„ã¦ã„ã¾ã™ã€‚æ­¢ã¾ã£ãŸã‚‰ä¸€æ—¦æ¬¡ã«é€²ã‚€æŸ”è»Ÿã•ã‚‚å¤§äº‹ã§ã™ã€‚"},
  MONK:{name:"ã‚µãƒ«",emoji:"ğŸµ",advice:"ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆå¤šã‚ãŒâ—", explanation:"è©±ã™ãƒ»è§£ããƒ»èª¬æ˜ã™ã‚‹ã“ã¨ã§ç†è§£ã‚’æ·±ã‚ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚å—ã‘èº«ã®å­¦ç¿’ã‚ˆã‚Šã€å•é¡Œæ¼”ç¿’ã‚„èª¬æ˜ä¸­å¿ƒã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚’é‡è¦–ã™ã‚‹ã¨åŠ¹æœçš„ã§ã™ã€‚å£°ã«å‡ºã—ã¦è¦šãˆã‚‹å‹‰å¼·ã‚‚ãŠã™ã™ã‚ã§ã™ã€‚"},
  PENG:{name:"ãƒšãƒ³ã‚®ãƒ³",emoji:"ğŸ§",advice:"ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³åŒ–ã—ã‚ˆã†", explanation:"æ¯æ—¥åŒã˜æ™‚é–“ã«å‹‰å¼·ã™ã‚‹ã¨ç¿’æ…£åŒ–ã—ã‚„ã™ã„ã‚¿ã‚¤ãƒ—ã§ã™ã€‚ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚’å´©ã•ãªã„ã“ã¨ã§åŠ¹ç‡ãŒä¸ŠãŒã‚Šã€è¨ˆç”»çš„ã«å­¦ç¿’ã§ãã¾ã™ã€‚"},
  HORSE:{name:"ã‚¦ãƒ",emoji:"ğŸ´",advice:"ä½“ã‚’å‹•ã‹ã™ä¼‘æ†©ãŒåŠ¹ã", explanation:"ä¸€åº¦ç¿’æ…£ã«ãªã‚‹ã¨æ­¢ã¾ã‚‰ãªã„ç¶™ç¶šå‹ã§ã™ã€‚æ¯æ—¥å°‘ã—ãšã¤å­¦ç¿’ã‚’ç¶šã‘ã€ä¼‘æ†©ã‚’å–ã‚Šå…¥ã‚Œã¦ã‚‚å†é–‹ã‚’å¤§äº‹ã«ã™ã‚‹ã¨æˆæœãŒå‡ºã¾ã™ã€‚"},
  TIGR:{name:"ãƒˆãƒ©",emoji:"ğŸ¯",advice:"é›£å•ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã§æˆé•·", explanation:"çŸ­æœŸé›†ä¸­ã®çˆ†ç™ºåŠ›ãŒã‚ã‚Šã¾ã™ã€‚çŸ­ã„ç· åˆ‡ã‚’ä½œã£ãŸã‚Šã€ä¸€æ°—ã«ä»•ä¸Šã’ã‚‹æ—¥ã‚’ä½œã‚‹ã¨å­¦ç¿’åŠ¹ç‡ãŒä¸ŠãŒã‚Šã¾ã™ã€‚ãƒ ãƒ©ã‚’å‰æã«è¨ˆç”»ã™ã‚‹ã¨ç„¡ç†ãªãæˆé•·ã§ãã¾ã™ã€‚"},
  ELEP:{name:"ã‚¾ã‚¦",emoji:"ğŸ˜",advice:"ã¾ã¨ã‚ãƒãƒ¼ãƒˆãŒæœ€å¼·", explanation:"ãƒãƒ¼ãƒˆã«ã¾ã¨ã‚ã¦æ•´ç†ã™ã‚‹ã“ã¨ãŒå¾—æ„ã§ã™ã€‚ä¸€åº¦ç†è§£ã—ãŸå†…å®¹ã‚’é•·ãè¦šãˆã‚‰ã‚Œã€å…¨ä½“åƒã‚’ã¤ã‹ã‚“ã§ã‹ã‚‰ç´°éƒ¨ã‚’è¦šãˆã‚‹ã¨ç†è§£ãŒæ·±ã¾ã‚Šã¾ã™ã€‚"}
};

const animalKeys = Object.keys(animals);
let score = {};
animalKeys.forEach(k=>score[k]=0);

// è³ªå•50å•ï¼ˆtypeã¯animalsã‚­ãƒ¼ã«å¯¾å¿œï¼‰
let questions = [
  {text:"å‹‰å¼·ã‚’å§‹ã‚ã‚‹å‰ã«ã€ä»Šæ—¥ã¯ä½•ã‚’ã‚„ã‚‹ã‹æ±ºã‚ã‚‹ã“ã¨ãŒå¤šã„", type:"LION"},
  {text:"ãƒ†ã‚¹ãƒˆã¾ã§ã®æ®‹ã‚Šæ—¥æ•°ã‚’æ„è­˜ã—ã¦å‹‰å¼·ã™ã‚‹", type:"LION"},
  {text:"å‹‰å¼·è¨ˆç”»ã‚’ç«‹ã¦ã‚‹ã®ã¯ã‚ã‚Šã¨å¥½ããªã»ã†ã ", type:"LION"},
  {text:"ã‚´ãƒ¼ãƒ«ãŒæ±ºã¾ã£ã¦ã„ã‚‹æ–¹ãŒã‚„ã‚‹æ°—ãŒå‡ºã‚‹", type:"LION"},
  {text:"çŸ­æ™‚é–“ã§ã‚‚é›†ä¸­ã§ãã‚Œã°æº€è¶³ã ", type:"RABBIT"},
  {text:"é•·æ™‚é–“æœºã«å‘ã‹ã†ã‚ˆã‚Šã€åŒºåˆ‡ã£ã¦ã‚„ã‚ŠãŸã„", type:"RABBIT"},
  {text:"é›†ä¸­ã§ããªã„æ—¥ã¯ç„¡ç†ã«ã‚„ã‚‰ãªã„", type:"BEAR"},
  {text:"æ°—åˆ†ãŒä¹—ã£ã¦ã„ã‚‹ã¨ãã¯ä¸€æ°—ã«é€²ã‚ã‚‹", type:"DEER"},
  {text:"å‹‰å¼·ã™ã‚‹å ´æ‰€ã«ã¯ã“ã ã‚ã‚ŠãŒã‚ã‚‹", type:"OWL"},
  {text:"é™ã‹ã˜ã‚ƒãªã„ã¨é›†ä¸­ã—ã«ãã„", type:"OWL"},
  {text:"éŸ³æ¥½ã‚’è´ããªãŒã‚‰å‹‰å¼·ã™ã‚‹ã“ã¨ãŒã‚ã‚‹", type:"CAT"},
  {text:"å ´æ‰€ã‚’å¤‰ãˆã‚‹ã¨æ°—åˆ†ã‚‚åˆ‡ã‚Šæ›¿ã‚ã‚‹", type:"CAT"},
  {text:"ä¸€äººã§å‹‰å¼·ã™ã‚‹æ–¹ãŒã¯ã‹ã©ã‚‹", type:"WOLF"},
  {text:"èª°ã‹ã¨ä¸€ç·’ã®æ–¹ãŒã‚„ã‚‹æ°—ãŒå‡ºã‚‹", type:"DOG"},
  {text:"äººã«èª¬æ˜ã™ã‚‹ã¨ç†è§£ãŒæ·±ã¾ã‚‹", type:"MONK"},
  {text:"å‘¨ã‚Šã®ãƒšãƒ¼ã‚¹ã«å½±éŸ¿ã•ã‚Œã‚„ã™ã„", type:"DEER"},
  {text:"ãƒãƒ¼ãƒˆã‚’ã¾ã¨ã‚ã‚‹ã®ã¯çµæ§‹å¥½ãã ", type:"ELEP"},
  {text:"æ›¸ã„ã¦è¦šãˆã‚‹ã‚¿ã‚¤ãƒ—ã ã¨æ€ã†", type:"ELEP"},
  {text:"å•é¡Œã‚’è§£ããªãŒã‚‰è¦šãˆã‚‹æ–¹ãŒå¾—æ„", type:"MONK"},
  {text:"å£°ã«å‡ºã—ã¦è¦šãˆã‚‹ã“ã¨ãŒã‚ã‚‹", type:"MONK"},
  {text:"å¾©ç¿’ã¯ã‹ãªã‚Šå¤§äº‹ã ã¨æ€ã£ã¦ã„ã‚‹", type:"BEAR"},
  {text:"åŒã˜å•é¡Œã‚’ä½•å›ã‚‚è§£ãã®ã¯è‹¦ã˜ã‚ƒãªã„", type:"BEAR"},
  {text:"ä¸€åº¦ã§å®Œç’§ã«è¦šãˆãŸã„ã‚¿ã‚¤ãƒ—ã ", type:"ELEP"},
  {text:"å¿˜ã‚Œã¦ã‹ã‚‰è¦šãˆç›´ã™ã“ã¨ãŒå¤šã„", type:"BEAR"},
  {text:"åŠ¹ç‡ã®ã„ã„ã‚„ã‚Šæ–¹ã‚’æ¢ã—ãŒã¡ã ", type:"FOX"},
  {text:"è¿‘é“ãŒã‚ã‚Œã°ãã£ã¡ã‚’é¸ã³ãŸã„", type:"FOX"},
  {text:"æ™‚é–“ã‚’ã‹ã‘ã™ãã‚‹ã®ã¯è‹¦æ‰‹ã ", type:"FOX"},
  {text:"è¦ç‚¹ã ã‘æŠ¼ã•ãˆãŸã„ã‚¿ã‚¤ãƒ—ã ", type:"FOX"},
  {text:"ã‚„ã‚‹æ°—ã¯æ—¥ã«ã‚ˆã£ã¦ã‹ãªã‚Šé•ã†", type:"CAT"},
  {text:"æ°—åˆ†è»¢æ›ãŒãªã„ã¨ç¶šã‹ãªã„", type:"CAT"},
  {text:"å‹‰å¼·ã®ã”è¤’ç¾ã‚’æ±ºã‚ã‚‹ã“ã¨ãŒã‚ã‚‹", type:"DEER"},
  {text:"ãƒ¢ãƒãƒ™ãŒä¸‹ãŒã‚‹ã¨ç«‹ã¦ç›´ã™ã®ãŒå¤§å¤‰", type:"CAT"},
  {text:"æ¯æ—¥åŒã˜æ™‚é–“ã«å‹‰å¼·ã—ã‚„ã™ã„", type:"PENG"},
  {text:"å‹‰å¼·ã‚’ç”Ÿæ´»ã®ä¸€éƒ¨ã«ã—ãŸã„", type:"PENG"},
  {text:"ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ãŒå´©ã‚Œã‚‹ã¨èª¿å­ãŒç‹‚ã†", type:"PENG"},
  {text:"ç¿’æ…£åŒ–ã§ãã‚‹ã¨å¼·ã„ã¨æ€ã†", type:"HORSE"},
  {text:"æ–°ã—ã„å‹‰å¼·æ³•ã‚’è©¦ã™ã®ãŒå¥½ãã ", type:"TIGR"},
  {text:"åˆã‚ãªã„æ–¹æ³•ã¯ã™ãã‚„ã‚ã‚‹", type:"TIGR"},
  {text:"å¤±æ•—ã—ã¦ã‚‚ã‚„ã‚Šæ–¹ã‚’å¤‰ãˆã‚Œã°OKæ´¾ã ", type:"TIGR"},
  {text:"å®‰å®šã‚ˆã‚Šå¤‰åŒ–ã‚’é¸ã³ãŒã¡ã ", type:"TIGR"},
  {text:"å®Œç’§ã˜ã‚ƒãªãã¦ã‚‚é€²ã‚ãŸã„", type:"BEAR"},
  {text:"ãƒŸã‚¹ã—ã¦ã‚‚å¼•ããšã‚‰ãªã„æ–¹ã ", type:"BEAR"},
  {text:"ã§ããªã„ã¨ç„¦ã‚Šã‚„ã™ã„", type:"DEER"},
  {text:"ãƒã‚¤ãƒšãƒ¼ã‚¹ã§ã‚„ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã‚‹", type:"CAT"},
  {text:"è‡ªåˆ†ãªã‚Šã®å‹‰å¼·ã‚¹ã‚¿ã‚¤ãƒ«ãŒã‚ã‚‹", type:"LION"},
  {text:"ä»–äººã®ã‚„ã‚Šæ–¹ã‚’å‚è€ƒã«ã™ã‚‹ã“ã¨ãŒå¤šã„", type:"FOX"},
  {text:"å‹‰å¼·ã¯å·¥å¤«æ¬¡ç¬¬ã§æ¥½ã«ãªã‚‹ã¨æ€ã†", type:"FOX"},
  {text:"æˆç¸¾ã‚ˆã‚Šã€Œç†è§£ã€ã‚’é‡è¦–ã—ãŸã„", type:"ELEP"},
  {text:"å‹‰å¼·ã®ã‚„ã‚Šæ–¹ã«ã¯æ­£è§£ãŒä¸€ã¤ã˜ã‚ƒãªã„ã¨æ€ã†", type:"ELEP"},
  {text:"è‡ªåˆ†ã«åˆã†æ–¹æ³•ã‚’è¦‹ã¤ã‘ãŸã„ã¨æ€ã£ã¦ã„ã‚‹", type:"CAT"}
];

// ãƒ©ãƒ³ãƒ€ãƒ åŒ–
function shuffle(array){
  for(let i=array.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [array[i],array[j]]=[array[j],array[i]];
  }
  return array;
}

let current = 0;
let shuffledQuestions = [];

function startQuiz(){
  score = {};
  animalKeys.forEach(k=>score[k]=0);
  current = 0;
  shuffledQuestions = shuffle([...questions]);
  document.getElementById('home').classList.add('hidden');
  document.getElementById('result').classList.add('hidden');
  document.getElementById('quiz').classList.remove('hidden');
  showQuestion();
}

function showQuestion(){
  const q = shuffledQuestions[current];
  document.getElementById('question').textContent = q.text;
  document.getElementById('progressText').textContent = `${current+1} / ${shuffledQuestions.length}`;
  document.getElementById('bar').style.width = `${((current)/shuffledQuestions.length)*100}%`;
}

function answer(yes){
  if(yes){
    const type = shuffledQuestions[current].type;
    score[type]++;
  }
  current++;
  if(current < shuffledQuestions.length){
    showQuestion();
  } else {
    showResult();
  }
}

function showResult(){
  document.getElementById('quiz').classList.add('hidden');
  document.getElementById('result').classList.remove('hidden');

  let best = animalKeys[0];
  animalKeys.forEach(k=>{
    if(score[k] > score[best]) best = k;
  });

  document.getElementById('animalEmoji').textContent = animals[best].emoji;
  document.getElementById('animalName').textContent = animals[best].name+"ã‚¿ã‚¤ãƒ—";
  document.getElementById('advice').textContent = animals[best].advice;
  document.getElementById('explanation').textContent = animals[best].explanation;
}

function restartQuiz(){
  startQuiz();
}
</script>
</body>
</html>